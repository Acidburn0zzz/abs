# $Id: PKGBUILD 180600 2013-03-24 12:10:12Z giovanni $
# Maintainer: Giovanni Scafora <giovanni@archlinux.org>
# Contributor: 03/08/04 <lefungus@altern.org>

pkgname=libebml
pkgver=1.3.0
pkgrel=5
pkgdesc="Extensible Binary Meta Language library"
arch=('i686' 'x86_64')
url="http://dl.matroska.org/downloads/libebml/"
license=('LGPL')
depends=()
source=("http://dl.matroska.org/downloads/${pkgname}/${pkgname}-${pkgver}.tar.bz2"
	patch-ebml__EbmlBinary.h)
md5sums=('efec729bf5a51e649e1d9d1f61c0ae7a'
         '99caa9fe055caaa50b131c588bf5b802')

prepare() {
	cd "${srcdir}/${pkgname}-${pkgver}"
	patch -p0 -i "${srcdir}/patch-ebml__EbmlBinary.h"
}

build() {
  cd "${srcdir}/${pkgname}-${pkgver}/make/linux"

  gmake CXX="clang++" CXXFLAGS="${CXXFLAGS} -std=c++11 -stdlib=libc++"

}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}/make/linux"

  gmake prefix="${pkgdir}/usr" install
}
