--- libopenjpeg/opj_malloc.h	2012-02-07 10:49:55.000000000 +0000
+++ libopenjpeg/opj_malloc.h.new	2014-05-01 17:31:08.850630830 +0100
@@ -75,7 +75,7 @@
 		#include <mm_malloc.h>
 		#define HAVE_MM_MALLOC
 	#else /* MSVC, Intel C++ */
-		#include <malloc.h>
+		#include <stdlib.h>
 		#ifdef _mm_malloc
 			#define HAVE_MM_MALLOC
 		#endif
@@ -86,7 +86,7 @@
 	/* Linux x86_64 and OSX always align allocations to 16 bytes */
 	#elif !defined(__amd64__) && !defined(__APPLE__)	
 		#define HAVE_MEMALIGN
-		#include <malloc.h>			
+		#include <stdlib.h>			
 	#endif
 #endif
 
