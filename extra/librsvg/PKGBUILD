# Maintainer: Anthony Donnelly <Amzo@archbsd.net>
# Contributor: Wolfgang Bumiller <blub@speed.at>

pkgname=librsvg
pkgver=2.40.5
pkgrel=1
pkgdesc="A SVG viewing library"
arch=(i686 x86_64)
license=('LGPL')
depends=('gdk-pixbuf2' 'pango' 'libcroco')
makedepends=('intltool' 'gtk2' 'gobject-introspection')
optdepends=('gtk3: for rsvg-view-3'
            'gtk2: gtk2 SVG engine module')
options=('libtoolfix' '!emptydirs')
url="http://librsvg.sourceforge.net/"
install=librsvg.install
source=(http://ftp.gnome.org/pub/gnome/sources/$pkgname/${pkgver%.*}/$pkgname-$pkgver.tar.xz)
sha256sums=('d14d7b3e25023ce34302022fd7c9b3a468629c94dff6c177874629686bfc71a7')

build() {
  cd $pkgname-$pkgver
  ./configure --prefix=/usr \
              --with-svgz \
              --with-croco \
              --enable-gtk-theme
  gmake
}

package() {
  cd $pkgname-$pkgver
  gmake DESTDIR="$pkgdir" install
}
