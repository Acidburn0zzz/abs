# Contributor: Wolfgang Bumiller <blub@speed.at>

pkgname=getopt
pkgver=1.1.6
pkgrel=5
pkgdesc="getopt replacement that supports GNU-style long options"
arch=('i686' 'x86_64')
license=('custom')
depend=('gettext')
url=http://software.frodo.looijaard.name/getopt
source=("${url}/files/${pkgname}-${pkgver}.tar.gz")
md5sums=('dbe76960897dbadd36c92215ad3415c8')

build() {
  cd "${srcdir}/${pkgname}-${pkgver}"

  patch -p0 -i "$srcdir"/patch-Makefile
  patch -p0 -i "$srcdir"/patch-getopt.c

  export LDFLAGS="-lintl"
  gmake LIBCGETOPT=0
}

package() {
  cd "${srcdir}/${pkgname}-${pkgver}"
  gmake DESTDIR="${pkgdir}/usr/local" mandir="/man" install
  # World has a getopt - this is for GNU specific getopt requirements so
  # it'll be in /usr/local now
}
